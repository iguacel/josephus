(this.webpackJsonpjosephus=this.webpackJsonpjosephus||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(14)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(4),o=n.n(i),l=(n(10),n(11),n(12),n(13),n(1)),c=n(2);var s=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},m=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},u=function(e){var t=e.gameOver,n=e.winner;return r.a.createElement("div",{className:t||n?"gameOver":"fondoGeneral",style:{maxWidth:"100vw",height:"100vh",mixBlendMode:"burn",position:"fixed",top:0,right:0,left:0,bottom:0,zIndex:1e3,pointerEvents:"none"}})};var p=function(e){var t=e.speed,n=e.setSpeed;return r.a.createElement("div",{style:{fontSize:"80%"}},r.a.createElement("p",null,"Speed"),r.a.createElement("button",{className:2e3===t?"active":"",onClick:function(){return n(2e3)}},"SLOW"),r.a.createElement("button",{className:1e3===t?"active":"",onClick:function(){return n(1e3)}},"DEFAULT"),r.a.createElement("button",{className:500===t?"active":"",onClick:function(){return n(500)}},"FAST"))};var f=function(e){var t=e.gameOver,n=e.winner,a=e.playAgain;return r.a.createElement("div",{className:"slidecontainer"},t&&r.a.createElement("div",{style:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"black",opacity:.8}},t&&!n&&r.a.createElement("h2",{style:{fontSize:"200%"}},"GAME ",r.a.createElement("br",null),"OVER"),t&&n&&r.a.createElement("h2",{style:{fontSize:"200%"}},"WINNER"),t||n?r.a.createElement("button",{style:{background:"white",color:"black",marginTop:"2em"},onClick:function(){return a()}},"PLAY AGAIN"):"",r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:"80%"}},"Score"),r.a.createElement("h2",{style:{fontSize:"120%"}},"290"))))},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(c.a)(e);return Object(c.a)(a).map((function(e){return a.splice(n=(n+t-1)%a.length,1)[0]}))},h=function(){var e=function(e,t,n){var r=e.map((function(e){return window.matchMedia(e)})),i=Object(a.useCallback)((function(){var e=r.findIndex((function(e){return e.matches}));return"undefined"!==typeof t[e]?t[e]:n}),[n,r,t]),o=Object(a.useState)(i),c=Object(l.a)(o,2),s=c[0],m=c[1];return Object(a.useEffect)((function(){var e=function(){return m(i)};return r.forEach((function(t){return t.addListener(e)})),function(){return r.forEach((function(t){return t.removeListener(e)}))}}),[i,r]),s}(["(min-width: 0px) and (max-width: 500px)","(min-width: 500px)"],["mobile","desktop"],"mobile"),t="desktop"===e?200:120,n=Object(a.useState)(m(4,"mobile"===e?10:14)),i=Object(l.a)(n,2),o=i[0],c=i[1],h=Object(a.useState)(m(2,o)),b=Object(l.a)(h,2),g=b[0],E=b[1],v=Object(a.useState)(!1),w=Object(l.a)(v,2),y=w[0],x=w[1],S=Object(a.useState)(!1),O=Object(l.a)(S,2),k=O[0],j=O[1],N=Object(a.useState)(new Array(o).fill("").map((function(e,t){return t+1}))),C=Object(l.a)(N,2),I=C[0],A=C[1],R=Object(a.useState)(d(I,g)),z=Object(l.a)(R,2),T=z[0],_=z[1],J=Object(a.useState)(0),M=Object(l.a)(J,2),B=M[0],F=M[1],L=Object(a.useState)(1e3),W=Object(l.a)(L,2),G=W[0],D=W[1],H=B===T.indexOf(k),P=B===o-1;Object(a.useEffect)((function(){A(new Array(o).fill("").map((function(e,t){return t+1}))),_(d(new Array(o).fill("").map((function(e,t){return t+1})),g))}),[o,g,e]),s((function(){k&&y&&(F(B+1),A(I.filter((function(e){return e!==T[B]})))),B+1===T.indexOf(k)&&x(!1)}),B===o-1?null:G);return r.a.createElement("div",null,r.a.createElement(u,{seleccionado:k,n:o,k:g,josephusList:T,winner:P,gameOver:H}),r.a.createElement("h4",{style:{marginBottom:"1em"}},"JOSE"),r.a.createElement("div",null,r.a.createElement("h1",{className:1===I.length?"survivorText":"",style:{fontSize:"200%"}},"JOSEPHUS ",r.a.createElement("br",null)," SURVIVOR"),r.a.createElement("p",null,"Killing:"),r.a.createElement("p",{style:{marginTop:"-.8em"}},r.a.createElement("span",{className:"main"},"1")," every"," ",r.a.createElement("span",{className:"main"},g)),r.a.createElement("p",{style:{fontSize:"80%"}},"Remaining: ",I.length,"/",o),I.length>1&&r.a.createElement("p",{style:{fontSize:"80%"}},"Last dead: no. ",T[B]),1===I.length&&r.a.createElement("p",{style:{fontSize:"80%"},className:"survivorText"},"Survivor: ",T[T.length-1]," "),!1,r.a.createElement("div",{style:{maxWidth:"380px",margin:"0 auto",fontSize:".7em",lineHeight:"1.5em",marginTop:"5em",marginBottom:"3em",height:"50px"}},0===B&&r.a.createElement("p",null,"Number ",r.a.createElement("span",{className:"main"},T[B])," is the first to go, select the survivor")),r.a.createElement("div",{className:"ulContainer",style:{maxWidth:"600px",margin:"0 auto",position:"relative"}},r.a.createElement("ul",{style:{width:"{width}px",height:0,paddingTop:"100%",position:"relative",margin:"0 auto",transform:"translate(-25px)"}},I.map((function(n,i){var o=360/I.length*i,l=T[B]===n,c=k===n;return r.a.createElement(a.Fragment,{key:i+1},r.a.createElement("li",{onClick:function(){return function(e){k||(j(e),x(!0)),e===T[0]&&(j(!1),x(!1))}(n)},className:"".concat(l?"dead":"alive"," ").concat(1===I.length?" survivor":""),style:{listStyle:"none",height:"mobile"===e?"30px":"50px",width:"mobile"===e?"30px":"50px",position:"absolute",top:"50%",left:"50%",transform:"rotate(".concat(o,"deg) translate(0px, -").concat(l?0:t,"px) rotate(-").concat(o,"deg) scale(").concat(l?1.4:1,")"),transition:"all 200ms",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",animationDelay:"".concat(1600*i,"ms"),willChange:"transform opacity background-image, background-color",backgroundColor:c?"#79FF00":""}},r.a.createElement("span",{style:{transform:"".concat(l?"translate(30px, -30px) scale(1.2)":"translate(30px, -10px)"),background:"black",width:"25px",height:"25px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.5em",textAlign:"center"}},n)))}))))),r.a.createElement(f,{gameOver:H,winner:P,playAgain:function(){console.log("update"),j(!1),j(!1),c(m(4,"mobile"===e?10:14)),E(m(2,o)),x(!0),F(0)}}),r.a.createElement(p,{speed:G,setSpeed:D}))};var b=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement("div",{style:{maxWidth:"470px",margin:"0 auto",fontSize:".7em",lineHeight:"1.5em",marginTop:"5em",marginBottom:"3em"}},r.a.createElement("p",null,"Read more about"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Josephus_problem",title:"Josephus problem on Wikipedia.",target:"_blank",rel:"noopener noreferrer"},"Josephus permutation on wikipedia"),". Inspired by this"," ",r.a.createElement("a",{title:"Josephus Permitation on Codewars.",href:"https://www.codewars.com/kata/josephus-permutation/javascript",target:"_blank",rel:"noopener noreferrer"},"Codewars kata by GiacomoSorbi.")),r.a.createElement("p",null,"Sprites from"," ",r.a.createElement("a",{href:"https://store.steampowered.com/agecheck/app/250900/",title:"The Binding of Isaac Rebirth on Steam.",target:"_blank",rel:"noopener noreferrer"},"The Binding of Isaac Rebirth")," ","by"," ",r.a.createElement("a",{href:"https://twitter.com/edmundmcmillen",title:"Edmund McMillen on twitter.",target:"_blank",rel:"noopener noreferrer"}," ","Edmund McMillen,"),"ripped by"," ",r.a.createElement("a",{href:"https://www.spriters-resource.com/pc_computer/bindingofisaacrebirth/",title:"Spriters Resource.",target:"_blank",rel:"noopener noreferrer"},"SuperFlomm")," ","for"," ",r.a.createElement("a",{href:"https://www.spriters-resource.com/",title:"Spriters Resource.",target:"_blank",rel:"noopener noreferrer"},"Spriters Resource.")," ","Cursors from"," ",r.a.createElement("a",{href:"https://github.com/nostalgic-css/NES.css?ref=devawesome",title:"Nostalgic css on Github.",target:"_blank",rel:"noopener noreferrer"},"Nes.css")),r.a.createElement("p",null,r.a.createElement("a",{title:"J.A. Iguacel on twitter",href:"https://twitter.com/infoiguacel?lang=es",target:"_blank",rel:"noopener noreferrer"},"@infoiguacel ",(new Date).getFullYear()))))};o.a.render(r.a.createElement(b,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.6121b42c.chunk.js.map