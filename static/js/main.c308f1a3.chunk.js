(this.webpackJsonpjosephus=this.webpackJsonpjosephus||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(14)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(4),i=n.n(l),c=(n(10),n(11),n(12),n(13),n(1)),o=n(2);var s=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},m=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},u=function(e){var t=e.gameOver,n=e.winner;return r.a.createElement("div",{className:t||n?"gameOver":"fondoGeneral",style:{maxWidth:"100vw",height:"100vh",mixBlendMode:"burn",position:"fixed",top:0,right:0,left:0,bottom:0,zIndex:1e3,pointerEvents:"none"}})};var p=function(e){var t=e.speed,n=e.setSpeed;return r.a.createElement("div",{style:{fontSize:"80%"}},r.a.createElement("p",null,"SPEED"),1e3===t&&r.a.createElement("button",{className:1e3===t?"active":"",onClick:function(){return n(500)}},"Faster!"),500===t&&r.a.createElement("button",{className:500===t?"active":"",onClick:function(){return n(1e3)}},"More slow"))};var f=function(e){var t=e.gameOver,n=e.winner,a=e.playAgain,l=e.n,i=e.remaining;return r.a.createElement("div",{className:"slidecontainer"},t&&r.a.createElement("div",{style:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"black",opacity:.8}},t&&!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"survivorText",style:{fontSize:"200%"}},"GAME ",r.a.createElement("br",null),"OVER"),r.a.createElement("p",{style:{fontSize:"80%"}},"You are ",r.a.createElement("br",null),"fucking dead :(")),t&&n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"survivorText",style:{fontSize:"200%"}},"YOU SURVIVED")," ",r.a.createElement("p",{style:{fontSize:"80%"}},r.a.createElement("a",{href:"https://youtu.be/EhSYJ2UYFek",target:"_blank",rel:"noopener noreferrer",title:"All my friends are dead"},"But all your friends ",r.a.createElement("br",null)," are dead :("))),t||n?r.a.createElement("button",{style:{background:"white",color:"black",marginTop:"2em"},onClick:function(){return a()}},"PLAY AGAIN"):"",r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:"80%"}},"Score"),r.a.createElement("h2",{style:{fontSize:"120%"}},100*(l-i)))))},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(o.a)(e);return Object(o.a)(a).map((function(e){return a.splice(n=(n+t-1)%a.length,1)[0]}))},E=function(){var e=function(e,t,n){var r=e.map((function(e){return window.matchMedia(e)})),l=Object(a.useCallback)((function(){var e=r.findIndex((function(e){return e.matches}));return"undefined"!==typeof t[e]?t[e]:n}),[n,r,t]),i=Object(a.useState)(l),o=Object(c.a)(i,2),s=o[0],m=o[1];return Object(a.useEffect)((function(){var e=function(){return m(l)};return r.forEach((function(t){return t.addListener(e)})),function(){return r.forEach((function(t){return t.removeListener(e)}))}}),[l,r]),s}(["(min-width: 0px) and (max-width: 500px)","(min-width: 500px)"],["mobile","desktop"],"mobile"),t="desktop"===e?200:120,n=Object(a.useState)(m(4,"mobile"===e?10:14)),l=Object(c.a)(n,2),i=l[0],o=l[1],E=Object(a.useState)(m(2,i)),h=Object(c.a)(E,2),g=h[0],b=h[1],v=Object(a.useState)(!1),y=Object(c.a)(v,2),x=y[0],w=y[1],S=Object(a.useState)(!1),O=Object(c.a)(S,2),k=O[0],j=O[1],N=Object(a.useState)(new Array(i).fill("").map((function(e,t){return t+1}))),T=Object(c.a)(N,2),I=T[0],R=T[1],C=Object(a.useState)(d(I,g)),z=Object(c.a)(C,2),A=z[0],F=z[1],_=Object(a.useState)(0),M=Object(c.a)(_,2),J=M[0],B=M[1],V=Object(a.useState)(1e3),U=Object(c.a)(V,2),Y=U[0],G=U[1],L=J===A.indexOf(k),W=J===i-1;Object(a.useEffect)((function(){R(new Array(i).fill("").map((function(e,t){return t+1}))),F(d(new Array(i).fill("").map((function(e,t){return t+1})),g))}),[i,g,e]),s((function(){k&&x&&(B(J+1),R(I.filter((function(e){return e!==A[J]})))),J+1===A.indexOf(k)&&w(!1)}),J===i-1?null:Y);return r.a.createElement("div",null,r.a.createElement(u,{winner:W,gameOver:L}),r.a.createElement("div",null,r.a.createElement("h1",{className:1===I.length?"survivorText":"",style:{fontSize:"200%"}},"JOSEPHUS ",r.a.createElement("br",null)," SURVIVOR"),!1,r.a.createElement("div",{style:{maxWidth:"380px",margin:"0 auto",fontSize:"70%",lineHeight:"1.5em",marginTop:"5em",marginBottom:"3em",height:"100px"}},0!==J&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Killing:"),r.a.createElement("p",{style:{marginTop:"-.8em"}},r.a.createElement("span",{className:"main"},"1")," every"," ",r.a.createElement("span",{className:"main"},g)),r.a.createElement("p",null,"Remaining:"," ",r.a.createElement("span",{className:"main"},I.length,"/",i)),I.length>1&&r.a.createElement("p",null,"Last dead:"," ",r.a.createElement("span",{className:"main"},"no. ",A[J])),1===I.length&&r.a.createElement("p",{className:"survivorText"},"Survivor:"," ",r.a.createElement("span",{className:"main"},A[A.length-1]," ")),r.a.createElement("p",null,"Time elapsed: ",r.a.createElement("span",{className:"main"},J,"s")),r.a.createElement("p",null,"Selected: ",r.a.createElement("span",{className:"main"},k))),0===J&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("span",{className:"main"},i)," people are standing in a circle waiting to be executed."," "),r.a.createElement("p",null,"They form a circle and proceed to kill"," ",r.a.createElement("span",{className:"main"},"1 person every ",g),"."),r.a.createElement("p",null,"Number ",r.a.createElement("span",{className:"main"},A[J]),", in the center, is the first to go."),r.a.createElement("p",{style:{marginTop:"2em"}},r.a.createElement("span",{style:{fontSize:"120%"},className:"main survivorText"},"SELECT THE SURVIVOR")))),r.a.createElement("div",{className:"ulContainer",style:{maxWidth:"600px",margin:"0 auto",position:"relative",marginTop:"2em",marginBottom:"2em"}},r.a.createElement("ul",{style:{width:"{width}px",height:0,paddingTop:"100%",position:"relative",margin:"0 auto",transform:"translate(-25px)"}},I.map((function(n,l){var i=360/I.length*l,c=A[J]===n,o=k===n;return r.a.createElement(a.Fragment,{key:l+1},r.a.createElement("li",{onClick:function(){return function(e){k||(j(e),w(!0)),e===A[0]&&(j(!1),w(!1))}(n)},className:"".concat(c?"dead":"alive"," ").concat(1===I.length?" survivor":""),style:{listStyle:"none",height:"mobile"===e?"30px":"50px",width:"mobile"===e?"30px":"50px",position:"absolute",top:"50%",left:"50%",transform:"rotate(".concat(i,"deg) translate(0px, -").concat(c?0:t,"px) rotate(-").concat(i,"deg) scale(").concat(c?1.4:1,")"),transition:"all 500ms",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",backgroundColor:o?"#79FF00":""}},r.a.createElement("span",{style:{transform:"".concat(c?"translate(30px, -10px) scale(1.2)":"translate(30px, -14px)"),background:"black",width:"25px",height:"25px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.5em",textAlign:"center"}},n)))}))))),r.a.createElement(f,{gameOver:L,winner:W,playAgain:function(){j(!1),j(!1),o(m(4,"mobile"===e?10:14)),b(m(2,i)),w(!0),B(0)},n:i,k:g,remaining:I.length}),r.a.createElement(p,{speed:Y,setSpeed:G}))};var h=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement("div",{style:{maxWidth:"470px",margin:"0 auto",fontSize:".7em",lineHeight:"1.5em",marginTop:"5em",marginBottom:"3em"}},r.a.createElement("p",null,"Read more about"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Josephus_problem",title:"Josephus problem on Wikipedia.",target:"_blank",rel:"noopener noreferrer"},"Josephus permutation on wikipedia"),". Inspired by this"," ",r.a.createElement("a",{title:"Josephus Permitation on Codewars.",href:"https://www.codewars.com/kata/josephus-permutation/javascript",target:"_blank",rel:"noopener noreferrer"},"Codewars kata by GiacomoSorbi.")),r.a.createElement("p",null,"Sprites from"," ",r.a.createElement("a",{href:"https://store.steampowered.com/agecheck/app/250900/",title:"The Binding of Isaac Rebirth on Steam.",target:"_blank",rel:"noopener noreferrer"},"The Binding of Isaac Rebirth")," ","by"," ",r.a.createElement("a",{href:"https://twitter.com/edmundmcmillen",title:"Edmund McMillen on twitter.",target:"_blank",rel:"noopener noreferrer"}," ","Edmund McMillen,"),"ripped by"," ",r.a.createElement("a",{href:"https://www.spriters-resource.com/pc_computer/bindingofisaacrebirth/",title:"Spriters Resource.",target:"_blank",rel:"noopener noreferrer"},"SuperFlomm")," ","for"," ",r.a.createElement("a",{href:"https://www.spriters-resource.com/",title:"Spriters Resource.",target:"_blank",rel:"noopener noreferrer"},"Spriters Resource.")," ","Cursors from"," ",r.a.createElement("a",{href:"https://github.com/nostalgic-css/NES.css?ref=devawesome",title:"Nostalgic css on Github.",target:"_blank",rel:"noopener noreferrer"},"Nes.css")),r.a.createElement("p",null,r.a.createElement("a",{title:"J.A. Iguacel on twitter",href:"https://twitter.com/infoiguacel?lang=es",target:"_blank",rel:"noopener noreferrer"},"@infoiguacel ",(new Date).getFullYear()))))};i.a.render(r.a.createElement(h,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.c308f1a3.chunk.js.map